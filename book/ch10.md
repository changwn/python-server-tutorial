# select、poll、epoll 如何选择

linux 提供了 select、poll、epoll 等不同 IO 多路服务用技术来支持高性能的 Web Server 场景，但是它们之间的本质区别在哪里，我们又该如何选择？

## select

select 是 linux 中早期的 IO 多路复用技术，受限于当时的技术场景和要求，select 的在设计之初它的一些特性就无法满足现代互联网高性能 Web Server 的要求：

1.select 是通过 fd_set 来表示需要监听的文件描述符的，即一个整数数组，数组的每一个数字的一位表示一个文件描述符，select 会修改 fd_set，这意味着即使只有一个文件描述符有事件要处理，整个 fd_set 都需要在内核和应用程序之间进行拷贝
2.如果想要知道哪一个文件描述符有事件需要处理，需要对整个 fd_set 进行迭代依次做检查，即使仅仅只有一个文件描述符有事件要处理
3.select 支持的最大文件描述符是通过常量 FD_SETSIZE 控制的，而这个常量在 linux 编译时才能修改和确定，意味着 select 有最大文件描述符限制，通常是 1024，如果想要修改这个值，需要重新对 linux 内核进行编译
4.select 对多线程不友好

select 有这么多缺点，是不是应该将之送进计算机历史博物馆了，有什么理由需要使用 select 么？

**理由一**

select 有很好的跨平台特性


